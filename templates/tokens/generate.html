{% extends "base.html" %}

{% block title %}Token generálás - ZedinArkManager{% endblock %}

{% block content %}
<div class="page">
    <div class="page-header">
        <h2><i class="fas fa-key"></i> Token generálás</h2>
        <p>Új token generálása felhasználók számára</p>
    </div>
    
    {% if success %}
        <div class="alert alert-success">{{ success }}</div>
    {% endif %}
    
    <div class="card">
        <div class="card-header">
            <h3>Új token létrehozása</h3>
        </div>
        <div class="card-body">
            <form method="POST" action="/tokens/generate">
                <div class="form-group">
                    <label for="user_id">
                        <i class="fas fa-user"></i> Felhasználó
                    </label>
                    <select id="user_id" name="user_id" required>
                        <option value="">-- Válassz felhasználót --</option>
                        {% for user in users %}
                            <option value="{{ user.id }}">
                                {{ user.username }} ({{ user.email }}) - 
                                {% if user.role.value == "server_admin" %}Szerver Admin{% else %}Felhasználó{% endif %}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="token_type">
                        <i class="fas fa-tag"></i> Token típusa
                    </label>
                    <select id="token_type" name="token_type" required>
                        <option value="user">Felhasználó (User → Server Admin aktiválással)</option>
                        <option value="server_admin">Szerver Admin</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="expires_in_days">
                        <i class="fas fa-calendar"></i> Lejárat (napokban)
                    </label>
                    <input type="number" id="expires_in_days" name="expires_in_days" value="30" min="1" max="365">
                    <small>Alapértelmezett: 30 nap</small>
                </div>
                
                <div class="form-group">
                    <label for="token_count">
                        <i class="fas fa-hashtag"></i> Generálandó tokenek száma
                    </label>
                    <input type="number" id="token_count" name="token_count" value="1" min="1" max="100" required>
                    <small>Hány darab tokent szeretnél generálni egyszerre (1-100)</small>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-key"></i> Token(ek) generálása
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

